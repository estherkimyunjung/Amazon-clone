[debug] [2021-03-15T04:13:31.408Z] ----------------------------------------------------------------------
[debug] [2021-03-15T04:13:31.410Z] Command:       /Users/esther/.nvm/versions/node/v15.6.0/bin/node /Users/esther/.nvm/versions/node/v15.6.0/bin/firebase emulators:start
[debug] [2021-03-15T04:13:31.410Z] CLI Version:   9.6.0
[debug] [2021-03-15T04:13:31.410Z] Platform:      darwin
[debug] [2021-03-15T04:13:31.410Z] Node Version:  v15.6.0
[debug] [2021-03-15T04:13:31.411Z] Time:          Sun Mar 14 2021 23:13:31 GMT-0500 (Central Daylight Time)
[debug] [2021-03-15T04:13:31.412Z] ----------------------------------------------------------------------
[debug] [2021-03-15T04:13:31.412Z] 
[debug] [2021-03-15T04:13:31.418Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-03-15T04:13:31.419Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-03-15T04:13:31.438Z] [hub] writing locator at /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/hub-ecommerce-app-e9e30.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "12" doesn't match your global version "15" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"15\""}}
[debug] [2021-03-15T04:13:31.477Z] defaultcredentials: writing to file /Users/esther/.config/firebase/estherkimyunjung_gmail_com_application_default_credentials.json
[debug] [2021-03-15T04:13:31.481Z] Setting GAC to /Users/esther/.config/firebase/estherkimyunjung_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/esther/.config/firebase/estherkimyunjung_gmail_com_application_default_credentials.json"}}
[debug] [2021-03-15T04:13:31.483Z] > refreshing access token with scopes: []
[debug] [2021-03-15T04:13:31.483Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-03-15T04:13:32.961Z] <<< HTTP RESPONSE 200 {"expires":"Mon, 01 Jan 1990 00:00:00 GMT","date":"Mon, 15 Mar 2021 04:13:32 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","pragma":"no-cache","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-03-15T04:13:32.991Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/ecommerce-app-e9e30/adminSdkConfig [none]
[debug] [2021-03-15T04:13:33.486Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/ecommerce-app-e9e30/adminSdkConfig 200
[debug] [2021-03-15T04:13:33.486Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/ecommerce-app-e9e30/adminSdkConfig {"projectId":"ecommerce-app-e9e30","storageBucket":"ecommerce-app-e9e30.appspot.com"}
[debug] [2021-03-15T04:13:33.771Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/ecommerce-app-e9e30/webApps/-/config [none]
[debug] [2021-03-15T04:13:34.166Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/ecommerce-app-e9e30/webApps/-/config 200
[debug] [2021-03-15T04:13:34.167Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/ecommerce-app-e9e30/webApps/-/config {"projectId":"ecommerce-app-e9e30","appId":"1:862736347430:web:9edeb8d82d1adc6d2191e7","storageBucket":"ecommerce-app-e9e30.appspot.com","apiKey":"AIzaSyDhvLqMyrAVvemw9SJ5HKtrS1Rk67olofg","authDomain":"ecommerce-app-e9e30.firebaseapp.com","messagingSenderId":"862736347430","measurementId":"G-Q2G5JP3728"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-03-15T04:13:34.223Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-03-15T04:13:34.223Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-03-15T04:13:34.223Z] Starting Emulator UI with command {"binary":"node","args":["/Users/esther/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/esther/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-03-15T04:13:34.320Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/Users/esther/keyProject/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/esther/keyProject/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2021-03-15T04:13:34.497Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-15T04:13:34.498Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-15T04:13:34.498Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-15T04:13:34.498Z] [worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91356.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91356.sock"}}
[debug] [2021-03-15T04:13:34.499Z] [worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: BUSY"}}
[debug] [2021-03-15T04:13:34.616Z] [runtime-status] [91356] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:13:34.617Z] [runtime-status] [91356] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:13:34.621Z] [runtime-status] [91356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:34.623Z] [runtime-status] [91356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:34.625Z] [runtime-status] [91356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:34.627Z] [runtime-status] [91356] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:13:34.627Z] [runtime-status] [91356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:34.679Z] [runtime-status] [91356] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:13:34.679Z] [runtime-status] [91356] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:13:34.679Z] [runtime-status] [91356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:34.680Z] [runtime-status] [91356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:34.681Z] [runtime-status] [91356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:34.682Z] [runtime-status] [91356] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91356] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/ecommerce-app-e9e30/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/ecommerce-app-e9e30/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-03-15T04:13:34.811Z] [worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: IDLE"}}
[debug] [2021-03-15T04:13:52.857Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:13:52.858Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:13:52.858Z] Accepted request GET /ecommerce-app-e9e30/us-central1/api --> api
[debug] [2021-03-15T04:13:52.863Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:13:52.863Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:13:52.863Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:13:52.863Z] [worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91458.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91458.sock"}}
[debug] [2021-03-15T04:13:52.864Z] [worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: BUSY"}}
[debug] [2021-03-15T04:13:53.042Z] [runtime-status] [91458] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:13:53.043Z] [runtime-status] [91458] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:13:53.046Z] [runtime-status] [91458] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:53.047Z] [runtime-status] [91458] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:53.049Z] [runtime-status] [91458] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:53.050Z] [runtime-status] [91458] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:13:53.051Z] [runtime-status] [91458] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:53.096Z] [runtime-status] [91458] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:13:53.096Z] [runtime-status] [91458] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:13:53.096Z] [runtime-status] [91458] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:53.097Z] [runtime-status] [91458] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:53.098Z] [runtime-status] [91458] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:13:53.098Z] [runtime-status] [91458] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:13:53.206Z] [runtime-status] [91458] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:13:53.207Z] [runtime-status] [91458] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:13:53.207Z] [runtime-status] [91458] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:13:53.210Z] [runtime-status] [91458] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91458.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91458.sock"}}
[debug] [2021-03-15T04:13:53.213Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:13:53.213Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api, mapping to path=/"}}
[debug] [2021-03-15T04:13:53.221Z] [runtime-status] [91458] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Ephemeral server handling GET request"}}
[debug] [2021-03-15T04:13:53.228Z] [runtime-status] [91458] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91458] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T04:13:53.231Z] [worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: IDLE"}}
[debug] [2021-03-15T04:13:53.231Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:15:22.488Z] File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-03-15T04:15:23.490Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-15T04:15:23.490Z] [worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: FINISHING"}}
[debug] [2021-03-15T04:15:23.490Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-15T04:15:23.490Z] [worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: FINISHING"}}
[debug] [2021-03-15T04:15:23.495Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-15T04:15:23.495Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-15T04:15:23.495Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-15T04:15:23.496Z] [worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91920.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91920.sock"}}
[debug] [2021-03-15T04:15:23.496Z] [worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: BUSY"}}
[debug] [2021-03-15T04:15:23.498Z] [worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: exited"}}
[debug] [2021-03-15T04:15:23.498Z] [worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e7789a1d-2020-495c-ac65-c731c6c8cd13]: FINISHED"}}
[debug] [2021-03-15T04:15:23.498Z] [worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: exited"}}
[debug] [2021-03-15T04:15:23.498Z] [worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-374830fa-a47a-4056-8e48-a202db6ebdea]: FINISHED"}}
[debug] [2021-03-15T04:15:23.664Z] [runtime-status] [91920] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:15:23.666Z] [runtime-status] [91920] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:15:23.668Z] [runtime-status] [91920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:23.669Z] [runtime-status] [91920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:23.670Z] [runtime-status] [91920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:23.672Z] [runtime-status] [91920] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:15:23.672Z] [runtime-status] [91920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:23.719Z] [runtime-status] [91920] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:15:23.719Z] [runtime-status] [91920] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:15:23.719Z] [runtime-status] [91920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:23.720Z] [runtime-status] [91920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:23.721Z] [runtime-status] [91920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:23.721Z] [runtime-status] [91920] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [91920] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:15:23.850Z] [worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: IDLE"}}
[debug] [2021-03-15T04:15:29.005Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:15:29.005Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:15:29.005Z] Accepted request GET /ecommerce-app-e9e30/us-central1/api --> api
[debug] [2021-03-15T04:15:29.005Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-15T04:15:29.005Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:15:29.009Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:15:29.010Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:15:29.010Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:15:29.010Z] [worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91949.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91949.sock"}}
[debug] [2021-03-15T04:15:29.010Z] [worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: BUSY"}}
[debug] [2021-03-15T04:15:29.137Z] [runtime-status] [91949] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:15:29.138Z] [runtime-status] [91949] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:15:29.140Z] [runtime-status] [91949] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:29.141Z] [runtime-status] [91949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:29.142Z] [runtime-status] [91949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:29.144Z] [runtime-status] [91949] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:15:29.144Z] [runtime-status] [91949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:29.174Z] [runtime-status] [91949] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:15:29.175Z] [runtime-status] [91949] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:15:29.175Z] [runtime-status] [91949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:29.176Z] [runtime-status] [91949] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:29.177Z] [runtime-status] [91949] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:15:29.177Z] [runtime-status] [91949] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:15:29.254Z] [runtime-status] [91949] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:15:29.255Z] [runtime-status] [91949] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:15:29.255Z] [runtime-status] [91949] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:15:29.257Z] [runtime-status] [91949] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91949.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_91949.sock"}}
[debug] [2021-03-15T04:15:29.260Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:15:29.260Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api, mapping to path=/"}}
[debug] [2021-03-15T04:15:29.265Z] [runtime-status] [91949] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Ephemeral server handling GET request"}}
[debug] [2021-03-15T04:15:29.272Z] [runtime-status] [91949] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [91949] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T04:15:29.277Z] [worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: IDLE"}}
[debug] [2021-03-15T04:15:29.277Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:25:39.494Z] File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-03-15T04:25:40.496Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-15T04:25:40.496Z] [worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: FINISHING"}}
[debug] [2021-03-15T04:25:40.497Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-15T04:25:40.497Z] [worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: FINISHING"}}
[debug] [2021-03-15T04:25:40.502Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-15T04:25:40.502Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-15T04:25:40.502Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-15T04:25:40.503Z] [worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_94904.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_94904.sock"}}
[debug] [2021-03-15T04:25:40.503Z] [worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: BUSY"}}
[debug] [2021-03-15T04:25:40.504Z] [worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: exited"}}
[debug] [2021-03-15T04:25:40.504Z] [worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40b8eec3-4aaf-435c-b2bf-fe5016b7cde8]: FINISHED"}}
[debug] [2021-03-15T04:25:40.504Z] [worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: exited"}}
[debug] [2021-03-15T04:25:40.504Z] [worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-07cab6aa-f334-4454-b0ec-67a7bb4fe15a]: FINISHED"}}
[debug] [2021-03-15T04:25:40.685Z] [runtime-status] [94904] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:25:40.686Z] [runtime-status] [94904] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:25:40.688Z] [runtime-status] [94904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:25:40.690Z] [runtime-status] [94904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:25:40.691Z] [runtime-status] [94904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:25:40.692Z] [runtime-status] [94904] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:25:40.692Z] [runtime-status] [94904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:25:40.738Z] [runtime-status] [94904] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:25:40.738Z] [runtime-status] [94904] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:25:40.738Z] [runtime-status] [94904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:25:40.739Z] [runtime-status] [94904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:25:40.741Z] [runtime-status] [94904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:25:40.741Z] [runtime-status] [94904] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [94904] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:25:40.865Z] [worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: IDLE"}}
[debug] [2021-03-15T04:26:16.389Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:26:16.389Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:26:16.389Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=13581 --> api
[debug] [2021-03-15T04:26:16.390Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-15T04:26:16.390Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:26:16.394Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:26:16.394Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:26:16.394Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:26:16.395Z] [worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95085.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95085.sock"}}
[debug] [2021-03-15T04:26:16.395Z] [worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: BUSY"}}
[debug] [2021-03-15T04:26:16.566Z] [runtime-status] [95085] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:26:16.567Z] [runtime-status] [95085] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:26:16.570Z] [runtime-status] [95085] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:16.571Z] [runtime-status] [95085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:16.572Z] [runtime-status] [95085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:16.574Z] [runtime-status] [95085] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:26:16.574Z] [runtime-status] [95085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:16.630Z] [runtime-status] [95085] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:26:16.630Z] [runtime-status] [95085] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:16.631Z] [runtime-status] [95085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:16.632Z] [runtime-status] [95085] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:16.633Z] [runtime-status] [95085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:16.633Z] [runtime-status] [95085] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:16.748Z] [runtime-status] [95085] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:26:16.749Z] [runtime-status] [95085] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:26:16.749Z] [runtime-status] [95085] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:26:16.751Z] [runtime-status] [95085] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95085.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95085.sock"}}
[debug] [2021-03-15T04:26:16.754Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:26:16.754Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=13581, mapping to path=/payments/create?total=13581 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=13581, mapping to path=/payments/create?total=13581"}}
[debug] [2021-03-15T04:26:16.759Z] [runtime-status] [95085] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 13581 {"user":"Payment request for this total amount>>>> ES 13581","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 13581"}}
[debug] [2021-03-15T04:26:16.764Z] [runtime-status] [95085] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95085] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/index.js:31 {"user":"/Users/esther/keyProject/amazon-clone/functions/index.js:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/index.js:31"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read property 'create' of undefined {"user":"TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2021-03-15T04:26:16.772Z] [worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: exited"}}
[debug] [2021-03-15T04:26:16.772Z] [worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d3f606c-8645-4ea4-94d4-10f3936d832b]: FINISHED"}}
[debug] [2021-03-15T04:26:16.773Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:26:20.594Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:26:20.594Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:26:20.594Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=10982 --> api
[debug] [2021-03-15T04:26:20.594Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:26:20.598Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:26:20.598Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:26:20.598Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:26:20.599Z] [worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95106.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95106.sock"}}
[debug] [2021-03-15T04:26:20.599Z] [worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: BUSY"}}
[debug] [2021-03-15T04:26:20.724Z] [runtime-status] [95106] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:26:20.725Z] [runtime-status] [95106] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:26:20.727Z] [runtime-status] [95106] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:20.728Z] [runtime-status] [95106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:20.729Z] [runtime-status] [95106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:20.731Z] [runtime-status] [95106] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:26:20.732Z] [runtime-status] [95106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:20.763Z] [runtime-status] [95106] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:26:20.763Z] [runtime-status] [95106] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:20.763Z] [runtime-status] [95106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:20.764Z] [runtime-status] [95106] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:20.765Z] [runtime-status] [95106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:20.765Z] [runtime-status] [95106] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:20.833Z] [runtime-status] [95106] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:26:20.833Z] [runtime-status] [95106] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:26:20.833Z] [runtime-status] [95106] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:26:20.835Z] [runtime-status] [95106] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95106.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95106.sock"}}
[debug] [2021-03-15T04:26:20.837Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:26:20.838Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=10982, mapping to path=/payments/create?total=10982 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=10982, mapping to path=/payments/create?total=10982"}}
[debug] [2021-03-15T04:26:20.843Z] [runtime-status] [95106] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 10982 {"user":"Payment request for this total amount>>>> ES 10982","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 10982"}}
[debug] [2021-03-15T04:26:20.846Z] [runtime-status] [95106] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95106] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/index.js:31 {"user":"/Users/esther/keyProject/amazon-clone/functions/index.js:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/index.js:31"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read property 'create' of undefined {"user":"TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2021-03-15T04:26:20.854Z] [worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: exited"}}
[debug] [2021-03-15T04:26:20.854Z] [worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ffe62e2f-92d9-4a6f-b0b3-28a3a10357ef]: FINISHED"}}
[debug] [2021-03-15T04:26:20.854Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:26:22.341Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:26:22.342Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:26:22.342Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=8383 --> api
[debug] [2021-03-15T04:26:22.342Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:26:22.346Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:26:22.347Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:26:22.347Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:26:22.347Z] [worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95117.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95117.sock"}}
[debug] [2021-03-15T04:26:22.347Z] [worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: BUSY"}}
[debug] [2021-03-15T04:26:22.467Z] [runtime-status] [95117] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:26:22.468Z] [runtime-status] [95117] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:26:22.469Z] [runtime-status] [95117] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:22.470Z] [runtime-status] [95117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:22.471Z] [runtime-status] [95117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:22.472Z] [runtime-status] [95117] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:26:22.473Z] [runtime-status] [95117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:22.499Z] [runtime-status] [95117] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:26:22.499Z] [runtime-status] [95117] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:22.499Z] [runtime-status] [95117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:22.500Z] [runtime-status] [95117] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:22.501Z] [runtime-status] [95117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:22.501Z] [runtime-status] [95117] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:22.566Z] [runtime-status] [95117] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:26:22.566Z] [runtime-status] [95117] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:26:22.567Z] [runtime-status] [95117] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:26:22.569Z] [runtime-status] [95117] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95117.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95117.sock"}}
[debug] [2021-03-15T04:26:22.571Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:26:22.571Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=8383, mapping to path=/payments/create?total=8383 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=8383, mapping to path=/payments/create?total=8383"}}
[debug] [2021-03-15T04:26:22.576Z] [runtime-status] [95117] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 8383 {"user":"Payment request for this total amount>>>> ES 8383","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 8383"}}
[debug] [2021-03-15T04:26:22.579Z] [runtime-status] [95117] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95117] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/index.js:31 {"user":"/Users/esther/keyProject/amazon-clone/functions/index.js:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/index.js:31"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read property 'create' of undefined {"user":"TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2021-03-15T04:26:22.586Z] [worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: exited"}}
[debug] [2021-03-15T04:26:22.587Z] [worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1cab942c-659b-461a-ac1a-fba00732bf8f]: FINISHED"}}
[debug] [2021-03-15T04:26:22.587Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:26:25.059Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:26:25.059Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:26:25.060Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=5784 --> api
[debug] [2021-03-15T04:26:25.060Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:26:25.064Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:26:25.065Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:26:25.065Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:26:25.065Z] [worker-api-1bd851be-e04f-4374-accb-57977c047562]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95138.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1bd851be-e04f-4374-accb-57977c047562]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95138.sock"}}
[debug] [2021-03-15T04:26:25.065Z] [worker-api-1bd851be-e04f-4374-accb-57977c047562]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1bd851be-e04f-4374-accb-57977c047562]: BUSY"}}
[debug] [2021-03-15T04:26:25.211Z] [runtime-status] [95138] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:26:25.213Z] [runtime-status] [95138] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:26:25.215Z] [runtime-status] [95138] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:25.216Z] [runtime-status] [95138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:25.217Z] [runtime-status] [95138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:25.219Z] [runtime-status] [95138] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:26:25.219Z] [runtime-status] [95138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:25.255Z] [runtime-status] [95138] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:26:25.255Z] [runtime-status] [95138] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:25.256Z] [runtime-status] [95138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:25.256Z] [runtime-status] [95138] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:25.260Z] [runtime-status] [95138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:25.260Z] [runtime-status] [95138] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:25.341Z] [runtime-status] [95138] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:26:25.342Z] [runtime-status] [95138] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:26:25.342Z] [runtime-status] [95138] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:26:25.344Z] [runtime-status] [95138] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95138.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95138.sock"}}
[debug] [2021-03-15T04:26:25.348Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:26:25.348Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=5784, mapping to path=/payments/create?total=5784 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=5784, mapping to path=/payments/create?total=5784"}}
[debug] [2021-03-15T04:26:25.354Z] [runtime-status] [95138] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 5784 {"user":"Payment request for this total amount>>>> ES 5784","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 5784"}}
[debug] [2021-03-15T04:26:25.358Z] [runtime-status] [95138] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95138] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/index.js:31 {"user":"/Users/esther/keyProject/amazon-clone/functions/index.js:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/index.js:31"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read property 'create' of undefined {"user":"TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2021-03-15T04:26:25.367Z] [worker-api-1bd851be-e04f-4374-accb-57977c047562]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1bd851be-e04f-4374-accb-57977c047562]: exited"}}
[debug] [2021-03-15T04:26:25.367Z] [worker-api-1bd851be-e04f-4374-accb-57977c047562]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1bd851be-e04f-4374-accb-57977c047562]: FINISHED"}}
[debug] [2021-03-15T04:26:25.367Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:26:34.160Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:26:34.160Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:26:34.160Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T04:26:34.160Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:26:34.164Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:26:34.165Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:26:34.165Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:26:34.165Z] [worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95179.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95179.sock"}}
[debug] [2021-03-15T04:26:34.165Z] [worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: BUSY"}}
[debug] [2021-03-15T04:26:34.321Z] [runtime-status] [95179] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:26:34.323Z] [runtime-status] [95179] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:26:34.325Z] [runtime-status] [95179] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:34.326Z] [runtime-status] [95179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:34.328Z] [runtime-status] [95179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:34.336Z] [runtime-status] [95179] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:26:34.339Z] [runtime-status] [95179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:34.372Z] [runtime-status] [95179] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:26:34.372Z] [runtime-status] [95179] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:34.372Z] [runtime-status] [95179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:34.373Z] [runtime-status] [95179] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:34.375Z] [runtime-status] [95179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:26:34.375Z] [runtime-status] [95179] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:26:34.504Z] [runtime-status] [95179] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:26:34.505Z] [runtime-status] [95179] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:26:34.505Z] [runtime-status] [95179] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:26:34.518Z] [runtime-status] [95179] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95179.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95179.sock"}}
[debug] [2021-03-15T04:26:34.523Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:26:34.524Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T04:26:34.540Z] [runtime-status] [95179] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 0 {"user":"Payment request for this total amount>>>> ES 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 0"}}
[debug] [2021-03-15T04:26:34.547Z] [runtime-status] [95179] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95179] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/index.js:31 {"user":"/Users/esther/keyProject/amazon-clone/functions/index.js:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/index.js:31"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read property 'create' of undefined {"user":"TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2021-03-15T04:26:34.566Z] [worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: exited"}}
[debug] [2021-03-15T04:26:34.566Z] [worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-30880206-2b1c-4053-b3e3-ae2737c99344]: FINISHED"}}
[debug] [2021-03-15T04:26:34.566Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:27:10.237Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:27:10.237Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:27:10.237Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=9555.000000000002 --> api
[debug] [2021-03-15T04:27:10.237Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:27:10.242Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:27:10.242Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:27:10.242Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:27:10.242Z] [worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95362.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95362.sock"}}
[debug] [2021-03-15T04:27:10.242Z] [worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: BUSY"}}
[debug] [2021-03-15T04:27:10.391Z] [runtime-status] [95362] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:27:10.392Z] [runtime-status] [95362] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:27:10.394Z] [runtime-status] [95362] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:27:10.395Z] [runtime-status] [95362] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:27:10.396Z] [runtime-status] [95362] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:27:10.398Z] [runtime-status] [95362] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:27:10.399Z] [runtime-status] [95362] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:27:10.429Z] [runtime-status] [95362] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:27:10.429Z] [runtime-status] [95362] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:27:10.429Z] [runtime-status] [95362] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:27:10.430Z] [runtime-status] [95362] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:27:10.431Z] [runtime-status] [95362] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:27:10.431Z] [runtime-status] [95362] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:27:10.521Z] [runtime-status] [95362] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:27:10.522Z] [runtime-status] [95362] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:27:10.522Z] [runtime-status] [95362] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:27:10.525Z] [runtime-status] [95362] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95362.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95362.sock"}}
[debug] [2021-03-15T04:27:10.527Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:27:10.528Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=9555.000000000002, mapping to path=/payments/create?total=9555.000000000002 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=9555.000000000002, mapping to path=/payments/create?total=9555.000000000002"}}
[debug] [2021-03-15T04:27:10.534Z] [runtime-status] [95362] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 9555.000000000002 {"user":"Payment request for this total amount>>>> ES 9555.000000000002","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 9555.000000000002"}}
[debug] [2021-03-15T04:27:10.539Z] [runtime-status] [95362] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95362] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/index.js:31 {"user":"/Users/esther/keyProject/amazon-clone/functions/index.js:31","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/index.js:31"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({"}}
[info] >                                                     ^ {"user":"                                                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                                                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read property 'create' of undefined {"user":"TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/index.js:31:52"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/esther/keyProject/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/esther/keyProject/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2021-03-15T04:27:10.550Z] [worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: exited"}}
[debug] [2021-03-15T04:27:10.551Z] [worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecfc3aaf-66e3-4c52-9ba3-41f8048b7087]: FINISHED"}}
[debug] [2021-03-15T04:27:10.551Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:28:58.462Z] File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-03-15T04:28:59.463Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-15T04:28:59.463Z] [worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: FINISHING"}}
[debug] [2021-03-15T04:28:59.464Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:28:59.468Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-15T04:28:59.469Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-15T04:28:59.469Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-15T04:28:59.469Z] [worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95895.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95895.sock"}}
[debug] [2021-03-15T04:28:59.469Z] [worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: BUSY"}}
[debug] [2021-03-15T04:28:59.470Z] [worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: exited"}}
[debug] [2021-03-15T04:28:59.470Z] [worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3da4b409-8b75-4ddb-a533-c0f1ab94f4eb]: FINISHED"}}
[debug] [2021-03-15T04:28:59.629Z] [runtime-status] [95895] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:28:59.630Z] [runtime-status] [95895] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:28:59.632Z] [runtime-status] [95895] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:28:59.633Z] [runtime-status] [95895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:28:59.634Z] [runtime-status] [95895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:28:59.636Z] [runtime-status] [95895] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:28:59.636Z] [runtime-status] [95895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:28:59.683Z] [runtime-status] [95895] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:28:59.684Z] [runtime-status] [95895] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:28:59.684Z] [runtime-status] [95895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:28:59.685Z] [runtime-status] [95895] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:28:59.686Z] [runtime-status] [95895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:28:59.686Z] [runtime-status] [95895] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [95895] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:28:59.805Z] [worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: IDLE"}}
[debug] [2021-03-15T04:29:06.584Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:29:06.584Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:29:06.584Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T04:29:06.585Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-15T04:29:06.589Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:29:06.589Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:29:06.589Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:29:06.589Z] [worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95932.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95932.sock"}}
[debug] [2021-03-15T04:29:06.589Z] [worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: BUSY"}}
[debug] [2021-03-15T04:29:06.720Z] [runtime-status] [95932] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:29:06.722Z] [runtime-status] [95932] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:29:06.724Z] [runtime-status] [95932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:06.725Z] [runtime-status] [95932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:06.726Z] [runtime-status] [95932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:06.728Z] [runtime-status] [95932] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:29:06.728Z] [runtime-status] [95932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:06.762Z] [runtime-status] [95932] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:29:06.762Z] [runtime-status] [95932] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:29:06.763Z] [runtime-status] [95932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:06.763Z] [runtime-status] [95932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:06.764Z] [runtime-status] [95932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:06.765Z] [runtime-status] [95932] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:29:06.840Z] [runtime-status] [95932] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:29:06.841Z] [runtime-status] [95932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:29:06.841Z] [runtime-status] [95932] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:29:06.844Z] [runtime-status] [95932] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95932.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_95932.sock"}}
[debug] [2021-03-15T04:29:06.846Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:29:06.847Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T04:29:06.861Z] [runtime-status] [95932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 0 {"user":"Payment request for this total amount>>>> ES 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 0"}}
[debug] [2021-03-15T04:29:06.895Z] [runtime-status] [95932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [95932] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 04:29:07 GMT', {"user":"      date: 'Mon, 15 Mar 2021 04:29:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 04:29:07 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_besyPgGNfJZ3JD', {"user":"      'request-id': 'req_besyPgGNfJZ3JD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_besyPgGNfJZ3JD',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_besyPgGNfJZ3JD' {"user":"    requestId: 'req_besyPgGNfJZ3JD'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_besyPgGNfJZ3JD'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 04:29:07 GMT', {"user":"    date: 'Mon, 15 Mar 2021 04:29:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 04:29:07 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_besyPgGNfJZ3JD', {"user":"    'request-id': 'req_besyPgGNfJZ3JD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_besyPgGNfJZ3JD',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_besyPgGNfJZ3JD', {"user":"  requestId: 'req_besyPgGNfJZ3JD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_besyPgGNfJZ3JD',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T04:29:07.914Z] [worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: exited"}}
[debug] [2021-03-15T04:29:07.914Z] [worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ff4d6072-1792-437d-baa5-e82102bbf930]: FINISHED"}}
[debug] [2021-03-15T04:29:07.914Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:29:21.084Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:29:21.084Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:29:21.084Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=27598 --> api
[debug] [2021-03-15T04:29:21.084Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:29:21.089Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:29:21.089Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:29:21.089Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:29:21.089Z] [worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_96005.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_96005.sock"}}
[debug] [2021-03-15T04:29:21.089Z] [worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: BUSY"}}
[debug] [2021-03-15T04:29:21.223Z] [runtime-status] [96005] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:29:21.224Z] [runtime-status] [96005] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:29:21.226Z] [runtime-status] [96005] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:21.227Z] [runtime-status] [96005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:21.228Z] [runtime-status] [96005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:21.230Z] [runtime-status] [96005] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:29:21.230Z] [runtime-status] [96005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:21.262Z] [runtime-status] [96005] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:29:21.262Z] [runtime-status] [96005] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:29:21.262Z] [runtime-status] [96005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:21.263Z] [runtime-status] [96005] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:21.264Z] [runtime-status] [96005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:29:21.265Z] [runtime-status] [96005] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:29:21.337Z] [runtime-status] [96005] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:29:21.338Z] [runtime-status] [96005] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:29:21.338Z] [runtime-status] [96005] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:29:21.340Z] [runtime-status] [96005] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_96005.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_96005.sock"}}
[debug] [2021-03-15T04:29:21.342Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:29:21.342Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=27598, mapping to path=/payments/create?total=27598 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=27598, mapping to path=/payments/create?total=27598"}}
[debug] [2021-03-15T04:29:21.347Z] [runtime-status] [96005] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> ES 27598 {"user":"Payment request for this total amount>>>> ES 27598","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> ES 27598"}}
[debug] [2021-03-15T04:29:21.358Z] [runtime-status] [96005] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [96005] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T04:29:21.995Z] [worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: IDLE"}}
[debug] [2021-03-15T04:29:21.995Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T04:35:36.365Z] File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/esther/keyProject/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-03-15T04:35:37.366Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-15T04:35:37.367Z] [worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: FINISHING"}}
[debug] [2021-03-15T04:35:37.367Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-15T04:35:37.367Z] [worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: FINISHING"}}
[debug] [2021-03-15T04:35:37.372Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-15T04:35:37.372Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-15T04:35:37.372Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-15T04:35:37.373Z] [worker-~diagnostic~-de7102ac-0c10-4008-8dc8-1c735867832e]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_97830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de7102ac-0c10-4008-8dc8-1c735867832e]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_97830.sock"}}
[debug] [2021-03-15T04:35:37.373Z] [worker-~diagnostic~-de7102ac-0c10-4008-8dc8-1c735867832e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de7102ac-0c10-4008-8dc8-1c735867832e]: BUSY"}}
[debug] [2021-03-15T04:35:37.374Z] [worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: exited"}}
[debug] [2021-03-15T04:35:37.374Z] [worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-724b3847-828a-473d-ac7f-df0426519f19]: FINISHED"}}
[debug] [2021-03-15T04:35:37.374Z] [worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: exited"}}
[debug] [2021-03-15T04:35:37.374Z] [worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ad8ef42-a7a7-428c-a15b-e37fa5d7dba9]: FINISHED"}}
[debug] [2021-03-15T04:35:37.563Z] [runtime-status] [97830] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:35:37.564Z] [runtime-status] [97830] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:35:37.566Z] [runtime-status] [97830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:35:37.567Z] [runtime-status] [97830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:35:37.568Z] [runtime-status] [97830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:35:37.569Z] [runtime-status] [97830] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:35:37.570Z] [runtime-status] [97830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:35:37.617Z] [runtime-status] [97830] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:35:37.617Z] [runtime-status] [97830] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:35:37.617Z] [runtime-status] [97830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:35:37.618Z] [runtime-status] [97830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:35:37.639Z] [runtime-status] [97830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:35:37.640Z] [runtime-status] [97830] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [97830] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:35:37.810Z] [worker-~diagnostic~-de7102ac-0c10-4008-8dc8-1c735867832e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de7102ac-0c10-4008-8dc8-1c735867832e]: IDLE"}}
[debug] [2021-03-15T04:54:25.247Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T04:54:25.247Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T04:54:25.247Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=27598 --> api
[debug] [2021-03-15T04:54:25.247Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-15T04:54:25.247Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T04:54:25.252Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T04:54:25.252Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T04:54:25.252Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T04:54:25.253Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock"}}
[debug] [2021-03-15T04:54:25.253Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: BUSY"}}
[debug] [2021-03-15T04:54:25.455Z] [runtime-status] [4424] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T04:54:25.457Z] [runtime-status] [4424] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Disabled runtime features: undefined"}}
[debug] [2021-03-15T04:54:25.460Z] [runtime-status] [4424] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:54:25.462Z] [runtime-status] [4424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:54:25.464Z] [runtime-status] [4424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:54:25.466Z] [runtime-status] [4424] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T04:54:25.467Z] [runtime-status] [4424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:54:25.532Z] [runtime-status] [4424] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T04:54:25.533Z] [runtime-status] [4424] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T04:54:25.533Z] [runtime-status] [4424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:54:25.534Z] [runtime-status] [4424] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T04:54:25.536Z] [runtime-status] [4424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T04:54:25.537Z] [runtime-status] [4424] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T04:54:25.671Z] [runtime-status] [4424] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T04:54:25.672Z] [runtime-status] [4424] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T04:54:25.672Z] [runtime-status] [4424] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Running api in mode HTTPS"}}
[debug] [2021-03-15T04:54:25.674Z] [runtime-status] [4424] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock"}}
[debug] [2021-03-15T04:54:25.679Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T04:54:25.679Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=27598, mapping to path=/payments/create?total=27598 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=27598, mapping to path=/payments/create?total=27598"}}
[debug] [2021-03-15T04:54:25.685Z] [runtime-status] [4424] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 27598 {"user":"Payment request for this total amount>>>> 27598","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 27598"}}
[debug] [2021-03-15T04:54:25.699Z] [runtime-status] [4424] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T04:54:27.348Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: IDLE"}}
[debug] [2021-03-15T04:54:27.348Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:03:20.440Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:03:20.440Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:03:20.440Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=177181 --> api
[debug] [2021-03-15T05:03:20.440Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:03:20.440Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock"}}
[debug] [2021-03-15T05:03:20.441Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: BUSY"}}
[debug] [2021-03-15T05:03:20.441Z] [runtime-status] [4424] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:03:20.442Z] [runtime-status] [4424] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:03:20.442Z] [runtime-status] [4424] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:03:20.443Z] [runtime-status] [4424] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock"}}
[debug] [2021-03-15T05:03:20.445Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:03:20.445Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=177181, mapping to path=/payments/create?total=177181 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=177181, mapping to path=/payments/create?total=177181"}}
[debug] [2021-03-15T05:03:20.448Z] [runtime-status] [4424] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 177181 {"user":"Payment request for this total amount>>>> 177181","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 177181"}}
[debug] [2021-03-15T05:03:20.451Z] [runtime-status] [4424] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T05:03:21.051Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: IDLE"}}
[debug] [2021-03-15T05:03:21.051Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:03:38.011Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:03:38.012Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:03:38.012Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T05:03:38.012Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:03:38.012Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock"}}
[debug] [2021-03-15T05:03:38.012Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: BUSY"}}
[debug] [2021-03-15T05:03:38.013Z] [runtime-status] [4424] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:03:38.013Z] [runtime-status] [4424] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:03:38.014Z] [runtime-status] [4424] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:03:38.014Z] [runtime-status] [4424] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_4424.sock"}}
[debug] [2021-03-15T05:03:38.014Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:03:38.015Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T05:03:38.017Z] [runtime-status] [4424] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 0 {"user":"Payment request for this total amount>>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 0"}}
[debug] [2021-03-15T05:03:38.019Z] [runtime-status] [4424] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4424] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 05:03:38 GMT', {"user":"      date: 'Mon, 15 Mar 2021 05:03:38 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 05:03:38 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_DgU66pb87z2uPX', {"user":"      'request-id': 'req_DgU66pb87z2uPX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_DgU66pb87z2uPX',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_DgU66pb87z2uPX' {"user":"    requestId: 'req_DgU66pb87z2uPX'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_DgU66pb87z2uPX'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 05:03:38 GMT', {"user":"    date: 'Mon, 15 Mar 2021 05:03:38 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 05:03:38 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_DgU66pb87z2uPX', {"user":"    'request-id': 'req_DgU66pb87z2uPX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_DgU66pb87z2uPX',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_DgU66pb87z2uPX', {"user":"  requestId: 'req_DgU66pb87z2uPX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_DgU66pb87z2uPX',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T05:03:38.250Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: exited"}}
[debug] [2021-03-15T05:03:38.250Z] [worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2c257de5-b907-4278-93cc-7a9ad8b85b12]: FINISHED"}}
[debug] [2021-03-15T05:03:38.250Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:04:33.560Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:04:33.560Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:04:33.560Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=170782.00000000003 --> api
[debug] [2021-03-15T05:04:33.560Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T05:04:33.568Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T05:04:33.569Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T05:04:33.569Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:04:33.569Z] [worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7456.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7456.sock"}}
[debug] [2021-03-15T05:04:33.569Z] [worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: BUSY"}}
[debug] [2021-03-15T05:04:33.795Z] [runtime-status] [7456] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T05:04:33.797Z] [runtime-status] [7456] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Disabled runtime features: undefined"}}
[debug] [2021-03-15T05:04:33.800Z] [runtime-status] [7456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:04:33.801Z] [runtime-status] [7456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:04:33.803Z] [runtime-status] [7456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:04:33.805Z] [runtime-status] [7456] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T05:04:33.805Z] [runtime-status] [7456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:04:33.856Z] [runtime-status] [7456] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T05:04:33.856Z] [runtime-status] [7456] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T05:04:33.856Z] [runtime-status] [7456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:04:33.857Z] [runtime-status] [7456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:04:33.858Z] [runtime-status] [7456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:04:33.858Z] [runtime-status] [7456] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T05:04:33.982Z] [runtime-status] [7456] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:04:33.983Z] [runtime-status] [7456] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:04:33.983Z] [runtime-status] [7456] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:04:33.985Z] [runtime-status] [7456] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7456.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7456.sock"}}
[debug] [2021-03-15T05:04:33.987Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:04:33.987Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=170782.00000000003, mapping to path=/payments/create?total=170782.00000000003 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=170782.00000000003, mapping to path=/payments/create?total=170782.00000000003"}}
[debug] [2021-03-15T05:04:33.992Z] [runtime-status] [7456] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 170782.00000000003 {"user":"Payment request for this total amount>>>> 170782.00000000003","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 170782.00000000003"}}
[debug] [2021-03-15T05:04:34.000Z] [runtime-status] [7456] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7456] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 170782.00000000003 {"user":"StripeInvalidRequestError: Invalid integer: 170782.00000000003","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 170782.00000000003"}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 170782.00000000003', {"user":"    message: 'Invalid integer: 170782.00000000003',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 170782.00000000003',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 05:04:34 GMT', {"user":"      date: 'Mon, 15 Mar 2021 05:04:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 05:04:34 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_gDO7srjYhSN6Uo', {"user":"      'request-id': 'req_gDO7srjYhSN6Uo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_gDO7srjYhSN6Uo',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_gDO7srjYhSN6Uo' {"user":"    requestId: 'req_gDO7srjYhSN6Uo'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_gDO7srjYhSN6Uo'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 05:04:34 GMT', {"user":"    date: 'Mon, 15 Mar 2021 05:04:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 05:04:34 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_gDO7srjYhSN6Uo', {"user":"    'request-id': 'req_gDO7srjYhSN6Uo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_gDO7srjYhSN6Uo',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_gDO7srjYhSN6Uo', {"user":"  requestId: 'req_gDO7srjYhSN6Uo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_gDO7srjYhSN6Uo',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T05:04:34.642Z] [worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: exited"}}
[debug] [2021-03-15T05:04:34.642Z] [worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-92cd90e2-23b6-4a03-9596-0ef7f9c0551a]: FINISHED"}}
[debug] [2021-03-15T05:04:34.642Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:05:44.583Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:05:44.584Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:05:44.584Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T05:05:44.584Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T05:05:44.589Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T05:05:44.589Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T05:05:44.590Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:05:44.590Z] [worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7806.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7806.sock"}}
[debug] [2021-03-15T05:05:44.590Z] [worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: BUSY"}}
[debug] [2021-03-15T05:05:44.807Z] [runtime-status] [7806] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T05:05:44.808Z] [runtime-status] [7806] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Disabled runtime features: undefined"}}
[debug] [2021-03-15T05:05:44.810Z] [runtime-status] [7806] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:44.812Z] [runtime-status] [7806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:44.813Z] [runtime-status] [7806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:44.815Z] [runtime-status] [7806] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T05:05:44.815Z] [runtime-status] [7806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:44.863Z] [runtime-status] [7806] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T05:05:44.864Z] [runtime-status] [7806] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T05:05:44.864Z] [runtime-status] [7806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:44.865Z] [runtime-status] [7806] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:44.867Z] [runtime-status] [7806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:44.867Z] [runtime-status] [7806] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T05:05:45.012Z] [runtime-status] [7806] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:05:45.013Z] [runtime-status] [7806] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:05:45.013Z] [runtime-status] [7806] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:05:45.015Z] [runtime-status] [7806] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7806.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7806.sock"}}
[debug] [2021-03-15T05:05:45.018Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:05:45.018Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T05:05:45.029Z] [runtime-status] [7806] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 0 {"user":"Payment request for this total amount>>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 0"}}
[debug] [2021-03-15T05:05:45.044Z] [runtime-status] [7806] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7806] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 05:05:45 GMT', {"user":"      date: 'Mon, 15 Mar 2021 05:05:45 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 05:05:45 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_OZFccw93kkj80t', {"user":"      'request-id': 'req_OZFccw93kkj80t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_OZFccw93kkj80t',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_OZFccw93kkj80t' {"user":"    requestId: 'req_OZFccw93kkj80t'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_OZFccw93kkj80t'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 05:05:45 GMT', {"user":"    date: 'Mon, 15 Mar 2021 05:05:45 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 05:05:45 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_OZFccw93kkj80t', {"user":"    'request-id': 'req_OZFccw93kkj80t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_OZFccw93kkj80t',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_OZFccw93kkj80t', {"user":"  requestId: 'req_OZFccw93kkj80t',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_OZFccw93kkj80t',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T05:05:45.805Z] [worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: exited"}}
[debug] [2021-03-15T05:05:45.805Z] [worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b94e2bb0-cb96-4a56-a014-071e84fbd2ea]: FINISHED"}}
[debug] [2021-03-15T05:05:45.805Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:05:50.742Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:05:50.742Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:05:50.742Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T05:05:50.742Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T05:05:50.746Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T05:05:50.747Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T05:05:50.747Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:05:50.747Z] [worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7838.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7838.sock"}}
[debug] [2021-03-15T05:05:50.747Z] [worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: BUSY"}}
[debug] [2021-03-15T05:05:50.885Z] [runtime-status] [7838] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T05:05:50.886Z] [runtime-status] [7838] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Disabled runtime features: undefined"}}
[debug] [2021-03-15T05:05:50.888Z] [runtime-status] [7838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:50.889Z] [runtime-status] [7838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:50.891Z] [runtime-status] [7838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:50.893Z] [runtime-status] [7838] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T05:05:50.893Z] [runtime-status] [7838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:50.955Z] [runtime-status] [7838] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T05:05:50.956Z] [runtime-status] [7838] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T05:05:50.956Z] [runtime-status] [7838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:50.957Z] [runtime-status] [7838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:50.958Z] [runtime-status] [7838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:05:50.958Z] [runtime-status] [7838] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T05:05:51.120Z] [runtime-status] [7838] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:05:51.121Z] [runtime-status] [7838] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:05:51.121Z] [runtime-status] [7838] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:05:51.124Z] [runtime-status] [7838] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7838.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7838.sock"}}
[debug] [2021-03-15T05:05:51.145Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:05:51.145Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T05:05:51.154Z] [runtime-status] [7838] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 0 {"user":"Payment request for this total amount>>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 0"}}
[debug] [2021-03-15T05:05:51.190Z] [runtime-status] [7838] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7838] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 05:05:52 GMT', {"user":"      date: 'Mon, 15 Mar 2021 05:05:52 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 05:05:52 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_7HmbareE3hL7pV', {"user":"      'request-id': 'req_7HmbareE3hL7pV',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_7HmbareE3hL7pV',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_7HmbareE3hL7pV' {"user":"    requestId: 'req_7HmbareE3hL7pV'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_7HmbareE3hL7pV'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 05:05:52 GMT', {"user":"    date: 'Mon, 15 Mar 2021 05:05:52 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 05:05:52 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_7HmbareE3hL7pV', {"user":"    'request-id': 'req_7HmbareE3hL7pV',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_7HmbareE3hL7pV',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_7HmbareE3hL7pV', {"user":"  requestId: 'req_7HmbareE3hL7pV',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_7HmbareE3hL7pV',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T05:05:52.006Z] [worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: exited"}}
[debug] [2021-03-15T05:05:52.006Z] [worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-06dfb93d-c14c-4433-bd8a-d518492b82c4]: FINISHED"}}
[debug] [2021-03-15T05:05:52.006Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:06:09.454Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:06:09.455Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:06:09.455Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=168183 --> api
[debug] [2021-03-15T05:06:09.455Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T05:06:09.460Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T05:06:09.460Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T05:06:09.461Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:06:09.461Z] [worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock"}}
[debug] [2021-03-15T05:06:09.461Z] [worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: BUSY"}}
[debug] [2021-03-15T05:06:09.591Z] [runtime-status] [7930] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T05:06:09.593Z] [runtime-status] [7930] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Disabled runtime features: undefined"}}
[debug] [2021-03-15T05:06:09.594Z] [runtime-status] [7930] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:06:09.595Z] [runtime-status] [7930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:06:09.597Z] [runtime-status] [7930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:06:09.599Z] [runtime-status] [7930] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T05:06:09.599Z] [runtime-status] [7930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:06:09.632Z] [runtime-status] [7930] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T05:06:09.632Z] [runtime-status] [7930] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T05:06:09.633Z] [runtime-status] [7930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:06:09.633Z] [runtime-status] [7930] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:06:09.634Z] [runtime-status] [7930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:06:09.635Z] [runtime-status] [7930] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T05:06:09.703Z] [runtime-status] [7930] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:06:09.704Z] [runtime-status] [7930] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:06:09.704Z] [runtime-status] [7930] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:06:09.706Z] [runtime-status] [7930] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock"}}
[debug] [2021-03-15T05:06:09.708Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:06:09.708Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=168183, mapping to path=/payments/create?total=168183 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=168183, mapping to path=/payments/create?total=168183"}}
[debug] [2021-03-15T05:06:09.713Z] [runtime-status] [7930] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 168183 {"user":"Payment request for this total amount>>>> 168183","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 168183"}}
[debug] [2021-03-15T05:06:09.722Z] [runtime-status] [7930] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T05:06:10.634Z] [worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: IDLE"}}
[debug] [2021-03-15T05:06:10.634Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:06:27.111Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:06:27.111Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:06:27.111Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T05:06:27.112Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:06:27.112Z] [worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock"}}
[debug] [2021-03-15T05:06:27.112Z] [worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: BUSY"}}
[debug] [2021-03-15T05:06:27.112Z] [runtime-status] [7930] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:06:27.113Z] [runtime-status] [7930] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:06:27.113Z] [runtime-status] [7930] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:06:27.113Z] [runtime-status] [7930] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_7930.sock"}}
[debug] [2021-03-15T05:06:27.114Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:06:27.114Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T05:06:27.122Z] [runtime-status] [7930] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Ephemeral server handling POST request"}}
[debug] [2021-03-15T05:06:27.122Z] [runtime-status] [7930] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7930] Ephemeral server survived."}}
[info] >  Payment request for this total amount>>>> 0 {"user":"Payment request for this total amount>>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 0"}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 05:06:27 GMT', {"user":"      date: 'Mon, 15 Mar 2021 05:06:27 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 05:06:27 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_irhpSqD52fpouu', {"user":"      'request-id': 'req_irhpSqD52fpouu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_irhpSqD52fpouu',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_irhpSqD52fpouu' {"user":"    requestId: 'req_irhpSqD52fpouu'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_irhpSqD52fpouu'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 05:06:27 GMT', {"user":"    date: 'Mon, 15 Mar 2021 05:06:27 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 05:06:27 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_irhpSqD52fpouu', {"user":"    'request-id': 'req_irhpSqD52fpouu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_irhpSqD52fpouu',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_irhpSqD52fpouu', {"user":"  requestId: 'req_irhpSqD52fpouu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_irhpSqD52fpouu',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T05:06:27.440Z] [worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: exited"}}
[debug] [2021-03-15T05:06:27.441Z] [worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6af9c50e-f187-4cb6-a87a-82f4dad18f30]: FINISHED"}}
[debug] [2021-03-15T05:06:27.441Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:36:57.863Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:36:57.864Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:36:57.864Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=176781 --> api
[debug] [2021-03-15T05:36:57.864Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T05:36:57.868Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T05:36:57.868Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T05:36:57.868Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:36:57.868Z] [worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock"}}
[debug] [2021-03-15T05:36:57.868Z] [worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: BUSY"}}
[debug] [2021-03-15T05:36:58.056Z] [runtime-status] [13042] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T05:36:58.057Z] [runtime-status] [13042] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Disabled runtime features: undefined"}}
[debug] [2021-03-15T05:36:58.059Z] [runtime-status] [13042] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:36:58.060Z] [runtime-status] [13042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:36:58.061Z] [runtime-status] [13042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:36:58.062Z] [runtime-status] [13042] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T05:36:58.063Z] [runtime-status] [13042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:36:58.107Z] [runtime-status] [13042] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T05:36:58.107Z] [runtime-status] [13042] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T05:36:58.107Z] [runtime-status] [13042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:36:58.108Z] [runtime-status] [13042] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:36:58.111Z] [runtime-status] [13042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:36:58.111Z] [runtime-status] [13042] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T05:36:58.233Z] [runtime-status] [13042] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:36:58.233Z] [runtime-status] [13042] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:36:58.234Z] [runtime-status] [13042] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:36:58.236Z] [runtime-status] [13042] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock"}}
[debug] [2021-03-15T05:36:58.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:36:58.238Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=176781, mapping to path=/payments/create?total=176781 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=176781, mapping to path=/payments/create?total=176781"}}
[debug] [2021-03-15T05:36:58.243Z] [runtime-status] [13042] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 176781 {"user":"Payment request for this total amount>>>> 176781","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 176781"}}
[debug] [2021-03-15T05:36:58.256Z] [runtime-status] [13042] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T05:36:58.896Z] [worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: IDLE"}}
[debug] [2021-03-15T05:36:58.896Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:37:15.439Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:37:15.440Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:37:15.440Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T05:37:15.440Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:37:15.440Z] [worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock"}}
[debug] [2021-03-15T05:37:15.440Z] [worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: BUSY"}}
[debug] [2021-03-15T05:37:15.441Z] [runtime-status] [13042] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:37:15.442Z] [runtime-status] [13042] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:37:15.442Z] [runtime-status] [13042] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:37:15.442Z] [runtime-status] [13042] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_13042.sock"}}
[debug] [2021-03-15T05:37:15.443Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:37:15.443Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T05:37:15.447Z] [runtime-status] [13042] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 0 {"user":"Payment request for this total amount>>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 0"}}
[debug] [2021-03-15T05:37:15.449Z] [runtime-status] [13042] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13042] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 05:37:15 GMT', {"user":"      date: 'Mon, 15 Mar 2021 05:37:15 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 05:37:15 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_1AALKpn3RWQQQC', {"user":"      'request-id': 'req_1AALKpn3RWQQQC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_1AALKpn3RWQQQC',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_1AALKpn3RWQQQC' {"user":"    requestId: 'req_1AALKpn3RWQQQC'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_1AALKpn3RWQQQC'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 05:37:15 GMT', {"user":"    date: 'Mon, 15 Mar 2021 05:37:15 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 05:37:15 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_1AALKpn3RWQQQC', {"user":"    'request-id': 'req_1AALKpn3RWQQQC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_1AALKpn3RWQQQC',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_1AALKpn3RWQQQC', {"user":"  requestId: 'req_1AALKpn3RWQQQC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_1AALKpn3RWQQQC',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T05:37:15.660Z] [worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: exited"}}
[debug] [2021-03-15T05:37:15.660Z] [worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64fe42d0-e430-4b57-a6b4-d327c0036cfd]: FINISHED"}}
[debug] [2021-03-15T05:37:15.660Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:56:42.597Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:56:42.597Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:56:42.597Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=5784 --> api
[debug] [2021-03-15T05:56:42.597Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T05:56:42.602Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T05:56:42.602Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T05:56:42.602Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:56:42.603Z] [worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock"}}
[debug] [2021-03-15T05:56:42.603Z] [worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: BUSY"}}
[debug] [2021-03-15T05:56:42.790Z] [runtime-status] [18888] Functions runtime initialized. {"cwd":"/Users/esther/keyProject/amazon-clone/functions","node_version":"15.6.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Functions runtime initialized. {\"cwd\":\"/Users/esther/keyProject/amazon-clone/functions\",\"node_version\":\"15.6.0\"}"}}
[debug] [2021-03-15T05:56:42.791Z] [runtime-status] [18888] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Disabled runtime features: undefined"}}
[debug] [2021-03-15T05:56:42.793Z] [runtime-status] [18888] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:56:42.794Z] [runtime-status] [18888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:56:42.795Z] [runtime-status] [18888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:56:42.797Z] [runtime-status] [18888] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T05:56:42.797Z] [runtime-status] [18888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:56:42.840Z] [runtime-status] [18888] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T05:56:42.840Z] [runtime-status] [18888] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-15T05:56:42.840Z] [runtime-status] [18888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:56:42.842Z] [runtime-status] [18888] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-15T05:56:42.843Z] [runtime-status] [18888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-15T05:56:42.843Z] [runtime-status] [18888] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/esther/keyProject/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-15T05:56:42.962Z] [runtime-status] [18888] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:56:42.962Z] [runtime-status] [18888] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:56:42.962Z] [runtime-status] [18888] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:56:42.964Z] [runtime-status] [18888] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock"}}
[debug] [2021-03-15T05:56:42.967Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:56:42.967Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=5784, mapping to path=/payments/create?total=5784 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=5784, mapping to path=/payments/create?total=5784"}}
[debug] [2021-03-15T05:56:42.972Z] [runtime-status] [18888] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 5784 {"user":"Payment request for this total amount>>>> 5784","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 5784"}}
[debug] [2021-03-15T05:56:42.982Z] [runtime-status] [18888] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T05:56:43.621Z] [worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: IDLE"}}
[debug] [2021-03-15T05:56:43.621Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T05:57:23.744Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T05:57:23.744Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T05:57:23.744Z] Accepted request POST /ecommerce-app-e9e30/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-15T05:57:23.744Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T05:57:23.744Z] [worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: Assigning socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock"}}
[debug] [2021-03-15T05:57:23.744Z] [worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: BUSY"}}
[debug] [2021-03-15T05:57:23.745Z] [runtime-status] [18888] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T05:57:23.745Z] [runtime-status] [18888] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T05:57:23.746Z] [runtime-status] [18888] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Running api in mode HTTPS"}}
[debug] [2021-03-15T05:57:23.746Z] [runtime-status] [18888] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Attempting to listen to socketPath: /var/folders/mw/3jc4jlg17z557p2w0dzncbhh0000gn/T/fire_emu_18888.sock"}}
[debug] [2021-03-15T05:57:23.747Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T05:57:23.747Z] [functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/ecommerce-app-e9e30/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-15T05:57:23.751Z] [runtime-status] [18888] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Ephemeral server handling POST request"}}
[info] >  Payment request for this total amount>>>> 0 {"user":"Payment request for this total amount>>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request for this total amount>>>> 0"}}
[debug] [2021-03-15T05:57:23.754Z] [runtime-status] [18888] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18888] Ephemeral server survived."}}
[info] >  /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/esther/keyProject/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:485:28) {"user":"    at Object.onceWrapper (node:events:485:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:485:28)"}}
[info] >      at IncomingMessage.emit (node:events:391:22) {"user":"    at IncomingMessage.emit (node:events:391:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:391:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 15 Mar 2021 05:57:24 GMT', {"user":"      date: 'Mon, 15 Mar 2021 05:57:24 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 15 Mar 2021 05:57:24 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_B079cq5jxYfMkU', {"user":"      'request-id': 'req_B079cq5jxYfMkU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_B079cq5jxYfMkU',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_B079cq5jxYfMkU' {"user":"    requestId: 'req_B079cq5jxYfMkU'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_B079cq5jxYfMkU'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 15 Mar 2021 05:57:24 GMT', {"user":"    date: 'Mon, 15 Mar 2021 05:57:24 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 15 Mar 2021 05:57:24 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_B079cq5jxYfMkU', {"user":"    'request-id': 'req_B079cq5jxYfMkU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_B079cq5jxYfMkU',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_B079cq5jxYfMkU', {"user":"  requestId: 'req_B079cq5jxYfMkU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_B079cq5jxYfMkU',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-15T05:57:24.012Z] [worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: exited"}}
[debug] [2021-03-15T05:57:24.012Z] [worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-950c7d2d-7c66-4aae-a5ba-72cb2d9e4f9b]: FINISHED"}}
[debug] [2021-03-15T05:57:24.012Z] [work-queue] {"queueLength":0,"workRunningCount":0}
